version: '2'

services:
  web:
    # Existing image in repository
    # image: kthse/docker pull kthse/kth-nodejs-web:13.37
    
    # Build from Dockerfile in current directory
    build: .
    
    # Configuration
    environment:
       SOME_KEY : "a-value"
       SOME_OTHER_KEY : "my-value"
       
    # Port published from inside the Docker image
    ports:
      - 3000
    
    # Other images specified in this docker-compose file.
    depends_on:
      - redis

  redis:
    image: redis:3.2.6-alpine
    ports:
      - 6379
